LIBNAME mydata "/courses/d1406ae5ba27fe300" access=readonly;
DATA new; set mydata.gapminder;
PROC PRINT; VAR country incomeperperson breastcancerper100th urbanrate femaleemployrate;
PROC SORT; BY country;
RUN;
DATA new2; 
SET NEW;
urbanrate_c=urbanrate-56.7693596;
incomeperperson_c=incomeperperson-8740.97;
RUN;
PROC MEANS;
VAR urbanrate_c;
RUN;
PROC MEANS;
VAR incomeperperson_c;
RUN;
PROC GLM; MODEL breastcancerper100th=incomeperperson_c/SOLUTION CLPARM;
*add quadratic term;
PROC GLM; MODEL breastcancerper100th=incomeperperson_c incomeperperson_c*incomeperperson_c /SOLUTION CLPARM;
RUN;
  *scatterplot with linear and quadratic regression line;
 PROC SGPLOT; 
 REG X=incomeperperson Y=breastcancerper100th / LINEATTRS= (COLOR=BLUE THICKNESS=2)DEGREE=1 CLM;
 REG X=incomeperperson Y=breastcancerper100th / LINEATTRS= (COLOR=GREEN THICKNESS=2)DEGREE=2 CLM;
  YAXIS LABEL="Breast Cancer Rate Per 100,000";
  XAXIS LABEL="Income Per Person";
  RUN;
